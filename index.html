<html>
  <head>
    <style type="text/css">
  	   div.library {
          width: 75%;
          border: 1px solid #DDD; 
          margin-left:30px; 
          margin-top: 120px;
          
          -moz-border-radius:10px;
          -webkit-border-radius:10px;
          border-radius:15px;
          
          font-family: Verdana, Arial, Helvetica, sans-serif;					
          color: #000000; 
          background-color: #CCFFFC;
          
          padding-left: 20px;
          padding-top: 0px;
          padding-bottom: 10px;
      }
      
      p.name {
        font-size:24px;
      }
      p.description {
        color: #AAAAAA;
        font-size:14px;
      }

      pre {
        margin-left: 20px;
      }
    </style>
  </head>

  
<body>
  

<h1 style="margin-left:10px">
  <span style="color: brown">pForce</span> &ndash; a PHP Web Framework : Reference Guide
</h1>


  
<div class="library" style="">
  <p class="name">cookies</p>
  <p class="description">Static class to handle COOKIES</p>
</div>

<h3>Public Properties</h3>

<pre>
public static $httpsRequired = false;     // Flag indicating whether the cookie should be sent over HTTPS only
    
                                                
public static $httponly = true;           // Flag indicating that the cookie will be made accessible only 
                                          // through the HTTP protocol - and not thru JavaScript (for security)
    
    
public static $path = "/";                // The path on the server in which the cookie will be available from; 
                                          // if set to '/', the cookie will be available within the entire domain  
</pre>

  
<br>
<h3>Public Methods</h3>

<p><strong>&nbsp;&nbsp; &nbsp;public static function set($name, $value, $expire, $domain = false)</strong><br>
<tt>&nbsp;&nbsp; &nbsp;/*&nbsp;&nbsp; &nbsp;Cookie-setting function. &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;IMPORTART: it must be called &nbsp;*prior* to outputting any text<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;ARGUMENTS<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$name &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;String with cookie name (cannot be empty)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$value &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;String with cookie value<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$expire &nbsp;&nbsp;&nbsp; &nbsp;The time (expressed as a Unix timestamp) when the cookie is set to expire.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If set to 0, it&#39;ll expire at the end of the session (when the browser closes)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;To avoid having to deal with Unix-timestamp values, more specialized methods, such as setDays(), are also provided in this class.&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$domain &nbsp;&nbsp; &nbsp;[OPTIONAL] Site&#39;s domain name (such as &quot;example.com&quot;); if missing, the domain is inferred from the server variable &quot;SERVER_NAME&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN VALUE: If output exists prior to calling this function, this function will fail and return FALSE;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if it successfully runs, it will return TRUE. &nbsp;(This does NOT indicate whether the user accepted the cookie.)<br>
&nbsp;&nbsp; &nbsp; */</tt></p>

<p><br>
&nbsp;<strong>&nbsp; &nbsp;public static function setSessionOnly($name, $value, $domain = false)</strong><br>
&nbsp;&nbsp; &nbsp;// Same as set(), but the cookie will expire at the end of the session (when the browser closes)<br>
&nbsp;</p>

<p><br>
<strong>&nbsp;&nbsp; &nbsp;public static function setDays($name, $value, $expireDays, $domain = false)</strong><br>
&nbsp;&nbsp; &nbsp;// Same as set(), but with the expiration time expressed as in &quot;number of days from now&quot;<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public static function setYears($name, $value, $expireYears, $domain = false)</strong><br>
&nbsp;&nbsp; &nbsp;// Same as set(), but with the expiration time expressed as in &quot;number of years from now&quot;<br>
<br>
&nbsp;&nbsp; &nbsp;</p>

<p><strong>&nbsp;&nbsp; &nbsp;public static function clear($name, $domain = false)</strong><br>
<tt>&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Clear the cookie with the given name, in the specified domain (such as &quot;example.com&quot;)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;IMPORTART: it must be called &nbsp;*prior* to outputting any text.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If the site&#39;s domain name (such as &quot;example.com&quot;) is missing, it is inferred from the server variable &quot;SERVER_NAME&quot;</tt></p>

<p><tt>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN VALUE: If output exists prior to calling this function, this function will fail and return FALSE;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if it successfully runs, it will return TRUE. &nbsp;(This does not indicate whether the user accepted the cookie.)<br>
&nbsp;&nbsp; &nbsp; */</tt><br>
<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public static function get($name)</strong><br>
&nbsp;&nbsp; &nbsp;// Return the value of the cookie with the specified name (in the domain of the calling script); if none is found, return false<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public static function isCookieSet($name)</strong><br>
&nbsp;&nbsp; &nbsp;// Return true if a cookie by that name is set (in the domain of the calling script)<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public static function requireHTTPS($required = true)</strong><br>
&nbsp;&nbsp; &nbsp;// Use this function to require an HTTPS connection (or to turn off such a requirement if previously set)<br>
&nbsp;</p>

<p><strong>&nbsp;&nbsp; &nbsp;public static function forceHTTPonly($force = true)</strong><br>
&nbsp;&nbsp; &nbsp;// Use this function to restrict the cookie&#39;s access thru the HTTP protocol, rather than thru JavaScript (or to turn off such a requirement if previously set)<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public static function setPath($path = &quot;/&quot;)</strong><br>
&nbsp;&nbsp; &nbsp;// &nbsp;&nbsp; Use this function to set the path on the server in which the cookie will be available from;<br>
&nbsp;&nbsp; &nbsp;//&nbsp;&nbsp; &nbsp;if using &#39;/&#39;, the cookie will be available within the entire domain</p>



  
  
<!-- -------------------------------------------------------------------------------------------------------------------------------------------- -->
<div class="library" style="">
  <p class="name">dbasePDO</p>
  <p class="description">Class for DATABASE-INTERFACE using the PDO functions<br>   
  <br>
  DEPENDENCIES:
   <br><br>
   - logging [optional]    
  </p>
</div>
  
<h3>Public Properties</h3>
<pre>
public $dbHandler;                      // Object created by call to new PDO()
    
public $dbaseServer;                    // Database server (e.g. "localhost" or "mysql.mysite.com")
public $dbase;                          // Name of default database schema
public $dbUser;                         // Database username
public $pass;                           // Password for the given database user

public $errorSummary = "";              // Short version of the last database error, if applicable
public $errorDetails = "";              // Longer version of the last database error, if applicable
    
public $dbLogFile = "";                 // Optional [VERY RECOMMENDED] file in which to keep log of database errors (re-tries and outright failures)  
</pre>

<br>
<h3>Public Methods</h3>

<p><strong>&nbsp;&nbsp; &nbsp;public function setConnectionParameters($dbaseServer, $dbase, $dbUser, $pass)</strong><br>
&nbsp;&nbsp; &nbsp;// Permits the setting of all 4 connection parameters at once<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function dbaseStart($retry = false)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;Create a new database connection. &nbsp;Any existing old connection gets cleared (forced restart.)</p>

<p>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If successful, it saves the newly-created handle and returns true;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;in case of failure, it tries a second time, then it sets some error-reporting properties (plus optional file log) and returns false.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;ARGUMENTS<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;retry&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;flag indicating whether this is the second (and last) attempt<br>
&nbsp;&nbsp; &nbsp; */<br>
&nbsp; &nbsp;</p>

<p>&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function selectSQL($sql, $bindings = false)&nbsp;</strong><br>
&nbsp;&nbsp; &nbsp;/*&nbsp;&nbsp; &nbsp;Run the specified SELECT query, with or without bindings.<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;ARGUMENTS<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If the optional argument $bindings is specified, the SQL must contain one or more &quot;?&quot; (without quotes),&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;and $bindings must contain an array of values, or a single value.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example1: $sql = &quot;SELECT * FROM mytable WHERE x = ? AND y = ?&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;and<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$bindings = array($value1, $value2)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;A single binding value can also be passed without an array. [i.e. a scalar $s gets converted to array($s)]<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example2: $sql = &quot;SELECT * FROM mytable WHERE x = :p1 AND y = :p2&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;and<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$bindings = array(&#39;:p1&#39; =&gt; $value1, &#39;:p2&#39; =&gt; $value2))<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN a (possibly emtpy) traversable associative/num dataset (aka &quot;PDO statement&quot;.)&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of ERROR, false is returned, and the &quot;errorSummary&quot; and &quot;errorDetails&quot; properties are set; also, the error is logged.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;The retry flag in the database object determines if a 2nd attempt is made in case of error.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;NOTES<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;=====<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If an ASSOCIATIVE dataset is desired instead of an associative/numeric one, just do:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$result = selectSQL($sql);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$result-&gt;setFetchMode(PDO::FETCH_ASSOC);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[note: with an associative array, one cannot use the list() construct]<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Likewise, if desiring a purely NUMERIC dataset, do:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$result = selectSQL($sql);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$result-&gt;setFetchMode(PDO::FETCH_NUM);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If one wishes to determine how many records were retrieved, use pdo_num_rows() IF using a MySQL database<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;TYPICAL CALLING CODE:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;====================<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$sql = &quot;SELECT a, b FROM table&quot;;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$result = $dbaseHandler-&gt;selectSQL($sql);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;EXAMPLES OF HOW TO USE THE RESULT:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;=================================&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;(1)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;foreach ($result as $row) &nbsp;{<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$myFieldValue = $row[&quot;myFieldName&quot;];&nbsp;&nbsp; &nbsp;// An associative/numeric dataset is returned by default (see notes above.) &nbsp;Note that $row[0], etc., will also work<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;echo &quot;myFieldValue: $myFieldValue&lt;br&gt;&quot;;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;(2)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;while($row = $result-&gt;fetch())<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;echo $row[&#39;field1&#39;]; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;// $row[0], etc., will also work<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;(3)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;while($row = $result-&gt;fetch(PDO::FETCH_ASSOC))&nbsp;&nbsp; &nbsp;// The PDO::FETCH_ASSOC part is not strictly necessary, because the default is PDO::FETCH_BOTH<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;echo $row[&#39;field1&#39;]; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;(4)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;while($row = $result-&gt;fetch(PDO::FETCH_NUM))&nbsp;&nbsp; &nbsp;// The PDO::FETCH_NUM part is not strictly necessary, because the default is PDO::FETCH_BOTH<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;echo $row[0];&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;(5)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$resultArray = $result-&gt;fetchall();&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;// Transform the result into an array (containing all of the result-set rows);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for the individual entry (i.e. each dbase record) if one wishes a purely associative array, use fetchall(PDO::FETCH_ASSOC);&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for a purely numeric arrays, use fetchall(PDO::FETCH_NUM)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//&nbsp;&nbsp; &nbsp;An empty array is returned if there are zero results to fetch, or FALSE on failure<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;// &nbsp;For convenience, the methods selectSQLarrayNum() and selectSQLarrayAssoc() are also available<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;foreach($resultArray as $row) &nbsp;{<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;... &nbsp;&nbsp; &nbsp;// like before<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;(6)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$sql = &quot;SELECT a, b FROM table&quot;;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$result = $dbObject-&gt;selectSQL($sql);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;foreach ($result as $row) &nbsp;{<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;list($a, $b) = $row;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;echo &quot;a: $a | b: $b&lt;br&gt;&quot;;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;(7)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$sql = &quot;SELECT a FROM table&quot;;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$result = $dbObject-&gt;selectSQL($sql);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$resultArray = $result-&gt;fetchall(PDO::FETCH_COLUMN);&nbsp;&nbsp; &nbsp;// An array with all the returned entries from the single column<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;(8)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$sql = &quot;SELECT f0, f1, f2, f3 FROM table&quot;;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$result = $dbObject-&gt;selectSQL($sql);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;while(($columnValue = $result-&gt;fetchcolumn(2)) !== false)&nbsp;&nbsp; &nbsp;// Do NOT use on Boolean fields. &nbsp;See http://php.net/manual/en/pdostatement.fetchcolumn.php<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;echo $columnValue;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;// fetchColumn returns a single column from the next row of a result set&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;(9)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Use fetch(PDO::FETCH_CLASS) or fetch(PDO::FETCH_INTO) to save the results into objects<br>
&nbsp;&nbsp; &nbsp; */&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><strong>&nbsp;&nbsp; &nbsp;public function selectSQLarrayNum($sql, $bindings = false)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Shortcut to invoking selectSQL() and then converting the entries of the returned dataset into a numeric array.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;An empty array is returned if there are zero results to fetch, or FALSE on failure.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example of return value:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Array(<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Array ( [0] =&gt; 123 &nbsp;[1] =&gt; 222)&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Array ( [0] =&gt; 666 &nbsp;[1] =&gt; 333)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example of usage:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$resultArray = selectSQLarrayNum($sql);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;foreach($resultArray as $row) &nbsp;{<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;echo $row[0] . &quot;&lt;br&gt;&quot;;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br>
&nbsp;&nbsp; &nbsp; */<br>
&nbsp;</p>

<p><br>
&nbsp;<strong>&nbsp; &nbsp;public function selectSQLarrayAssoc($sql, $bindings = false)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Shortcut to invoking selectSQL() and then converting the entries of the returned dataset into an associative array.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;An empty array is returned if there are zero results to fetch, or FALSE on failure.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example of return value:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Array(<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Array ( [field1] =&gt; 123 &nbsp;[field2] =&gt; 222)&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Array ( [field1] =&gt; 666 &nbsp;[field2] =&gt; 333)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example of usage:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$resultArray = selectSQLarrayNum($sql);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;foreach($resultArray as $row) &nbsp;{<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;echo $row[&quot;field1&quot;] . &quot;&lt;br&gt;&quot;;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br>
&nbsp;&nbsp; &nbsp; */<br>
&nbsp;</p>

<p>&nbsp;</p>

<p><strong>&nbsp;&nbsp; &nbsp;public function selectSQLFirstRecord($sql, $bindings = false)</strong><br>
&nbsp;&nbsp; &nbsp;/*&nbsp;&nbsp; &nbsp;Run the specified SQL SELECT statement, and return the first row of the result (as an assoc/num array.)&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;A &quot;LIMIT 1&quot; statement is automatically added to the SQL. &nbsp;WARNING: make sure that the $sql passed to it does not already have &nbsp;&quot;LIMIT&quot; statement; if it does, use the method selectSQLOneRecord() instead<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of no records, return null.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of error, return false.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Typically used with SELECT statements that return a single record.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Note: pdo_num_rows() cannot be used after this function call,&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;because the PDOstatement is not returned (maybe it could be saved in the object?)<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;EXAMPLE 1:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$sql = &quot;SELECT a, b, c FROM myTable&quot;;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;list($a, $b, $c) = $db-&gt;selectSQLFirstRecord($sql);<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;EXAMPLE 2:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$sql = &quot;SELECT * FROM myTable&quot;;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$resultRow = $db-&gt;selectSQLFirstRecord($sql);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$a = $resultRow[&quot;a&quot;];<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$b = $resultRow[&quot;b&quot;];<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$c = $resultRow[&quot;c&quot;];<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function selectSQLOneRecord($sql, $bindings = false)</strong><br>
&nbsp;&nbsp; &nbsp;/*&nbsp;&nbsp; &nbsp;Run the specified SQL SELECT statement, and return the first row of the result (as an assoc/num array.)&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of no records, return null.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of error, return false.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Typically used with SELECT statements that return a single record.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Note: pdo_num_rows() cannot be used after this function call,&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;because the PDOstatement is not returned (maybe it could be saved in the object?)<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;EXAMPLE 1:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$sql = &quot;SELECT a, b, c FROM myTable ORDER BY a LIMIT 1&quot;;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;list($a, $b, $c) = $db-&gt;selectSQLFirstRecord($sql);<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;EXAMPLE 2:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$sql = &quot;SELECT * FROM myTable&quot;;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$resultRow = $db-&gt;selectSQLFirstRecord($sql);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$a = $resultRow[&quot;a&quot;];<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$b = $resultRow[&quot;b&quot;];<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$c = $resultRow[&quot;c&quot;];<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function selectSQLOneValue($sql, $bindings = false)</strong><br>
&nbsp;&nbsp; &nbsp;/*&nbsp;&nbsp; &nbsp;Run the specifed SQL query (expected to be a SELECT statement.)<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN the first (zero-th) column of the first (zero-th) row.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of no records or error, return null. &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;The returned value might be a null if that&#39;s what contained in the database or returned by a database function in the SELECT statement.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Typically used with SELECT statements that return a single value, such as a count(*)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of error, return false.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;EXAMPLE:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$myCount = selectSQLOneValue(&quot;SELECT count(*) FROM myTable WHERE ID &gt; 7&quot;);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;IMPORTANT NOTE: Aggregate functions sometimes return null. &nbsp;For example, &quot;SELECT max(ID) myTable WHERE ID &gt; 100&quot; will return null if no records satisfy the condition;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;the calling function may test for this with the &quot;===&quot; identity check, as follows : &nbsp;&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if ($result === null) // to distinguish no records found vs. a returned value of zero<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Note: pdo_num_rows() cannot be used after this function call,&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;because the PDOstatement is not returned (maybe it could be saved in the object?)<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function selectSQLOneColumn($sql, $columnPosition, $bindings = false)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Return a numeric array with the values of the specified column from the result of the SQL query;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;in case of error, return false.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Column positions are counted from zero (i.e., 0 corresponds to the first column)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;WARNING: do NOT use on Boolean fields. &nbsp;See http://php.net/manual/en/pdostatement.fetchcolumn.php<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function isInTable($table, $field, $value)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Return true if the given value is found at least once (in any row) in the specified field in the given table;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;false, otherwise<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;EXAMPLE:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;isInTable(&quot;myTable&quot;, &quot;field1&quot;, 123)<br>
&nbsp;&nbsp; &nbsp; */<br>
&nbsp;</p>

<p><br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function pdo_num_rows($PDOstatement)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;This function emulates mysql_num_rows(), but only works for MySQL databases.<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;1) &nbsp;&nbsp; &nbsp;It returns the number of rows affected by the last DELETE, INSERT, or UPDATE statement executed by the specified PDOStatement object.&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;2) &nbsp;&nbsp; &nbsp;If the last SQL statement executed by the associated PDOStatement was a SELECT statement, some databases may return the number of rows returned by that statement.&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;However, this behaviour is not guaranteed for all databases and should not be relied on for portable applications.&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;(See &nbsp;http://php.net/manual/en/pdostatement.rowcount.php &nbsp;and &nbsp;http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of error, it return false<br>
&nbsp;&nbsp; &nbsp; */</p>

<p>&nbsp;</p>

<p><br>
<strong>&nbsp;&nbsp; &nbsp;public function pdo_result($PDOstatement, $rowCount, $field)</strong><br>
&nbsp;&nbsp; &nbsp;/* Emulates mysql_result()<br>
&nbsp;&nbsp; &nbsp; */<br>
&nbsp;</p>

<p>&nbsp;</p>

<p><strong>&nbsp;&nbsp; &nbsp;public function countRecords($table, $selectSubquery = &quot;&quot;)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Return the number of records in the given table when the specified subquery (the part *after* the WHERE in the sql query) is applied;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if the subquery is a blank string or missing, then the total number of records in the table is returned.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of error, return false. &nbsp;A === false check on the return value should be done to distinguish zero records from an error condition.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;EXAMPLE: &nbsp;$number_of_records = countRecords(&quot;myTable&quot; , &quot;`ID` &gt; `0&quot;);<br>
<strong>&nbsp;&nbsp; &nbsp; */</strong></p>

<p>&nbsp;</p>

<p><strong>&nbsp;&nbsp; &nbsp;public function modificationSQL($sql, $bindings = false)&nbsp;</strong><br>
&nbsp;&nbsp; &nbsp;/*&nbsp;&nbsp; &nbsp;Run the specified &quot;modification&quot; SQL (i.e. UPDATE, INSERT, DELETE , CREATE TABLE , or DROP TABLE.)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If the optional argument $bindings is specified, the SQL must contain one or more &quot;?&quot; (without quotes),&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;and $bindings must contain an array of values, or a single value.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example1: &nbsp;&nbsp; &nbsp;$sql = &quot;UPDATE myTable SET field = ? WHERE ID = ?&quot;;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;and<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$bindings = array($value1, $value2);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;A single binding value can also be passed without an array. [i.e. a scalar $s gets converted to array($s)]<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example2: &nbsp;&nbsp; &nbsp;$sql = &quot;UPDATE myTable SET x = :p1 AND y = :p2&quot;;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;and<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$bindings = array(&quot;:p1&quot; =&gt; $value1, &quot;:p2&quot; =&gt; $value2);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example3:&nbsp;&nbsp; &nbsp;$sql = &quot;INSERT INTO myTable (`col1`, `col2`)<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; VALUES (:username, :email)&quot;;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;and<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$bindings = array(&quot;:username&quot; =&gt; &quot;me myself&quot;, &quot;:email&quot; =&gt; &quot;a@b.com&quot;);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN VALUE<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of successful insert, update or delete operations, return the number of affected rows<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of successful create/drop table operations, return 0<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of error, -1 is returned, error messages are logged, and some error properties get set<br>
&nbsp;&nbsp; &nbsp; */&nbsp;<br>
&nbsp;&nbsp; &nbsp;</p>

<p><br>
<strong>&nbsp;&nbsp; &nbsp;public function retrieveInsertID()</strong><br>
&nbsp;&nbsp; &nbsp;/* Return the auto-increment value from the last INSERT operation<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function createTable($tableName, $columnDefinitions, $primaryKey, $otherKeys = false, $tableOptions = &quot;ENGINE=InnoDB , DEFAULT CHARSET=latin1&quot;)</strong><br>
&nbsp;&nbsp; &nbsp;/*&nbsp;&nbsp; &nbsp;Create a mySQL table.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If successful, RETURN true; otherwise, return false and set error properties.</p>

<p>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;See https://dev.mysql.com/doc/refman/5.5/en/create-table.html<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;EXAMPLES of arguments:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$tableName&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;myTable&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$columnDefinitions&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;`ID` smallint(5) unsigned NOT NULL AUTO_INCREMENT,<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; `field1` varchar(16) CHARACTER SET latin1 COLLATE latin1_general_ci NOT NULL, &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; `field2` varchar(255) CHARACTER SET latin1 COLLATE latin1_general_ci DEFAULT NULL,<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; `field3` smallint(5) unsigned DEFAULT NULL, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; `field4` text CHARACTER SET latin1 COLLATE latin1_general_ci,&nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; `timeStamp` timestamp DEFAULT CURRENT_TIMESTAMP<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$primaryKey&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;`field1`, `field2`&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$otherKeys &nbsp;[OPTIONAL]&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;UNIQUE KEY `someNameForKey` (`field3`,`field4`)&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;KEY `sessionID` (`sessionID`), KEY `subID` (`subID`)&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$tableOptions &nbsp;[OPTIONAL]&nbsp;&nbsp; &nbsp;&quot;ENGINE=MyISAM , DEFAULT CHARSET=latin1&quot;, AUTO_INCREMENT=69<br>
&nbsp;&nbsp; &nbsp; */<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function getFieldNames($tableName)</strong><br>
&nbsp;&nbsp; &nbsp;/*&nbsp;&nbsp; &nbsp;Return an array of field names in the given table (or false in case of failure).<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Only tested on MySQL.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;ARGUMENT:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$tableName&nbsp;&nbsp; &nbsp;A string with the table&#39;s name. &nbsp;Example: &quot;myTable&quot; (do not wrap the name in database back quotes)<br>
&nbsp;&nbsp; &nbsp; */<br>
&nbsp; &nbsp;&nbsp;</p>

<p>&nbsp;</p>

<p><strong>&nbsp;&nbsp; &nbsp;public function tableExists($table)</strong><br>
&nbsp;&nbsp; &nbsp;// Return true iff the specified table already exists in the current database<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function allTables()</strong><br>
&nbsp;&nbsp; &nbsp;// Return a numeric array with the names of all the tables in the current database, or false in case of error<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function extractForeignKeys($tableName)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Look up and return all the foreign keys of the given table.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;This function may only work on MySQL.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN: a numeric array whose entries are associative arrays of the form &nbsp;[columnName, foreignTable, foreignColumn]<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If no foreign keys are present, an empty array is returned, or false in case of error.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Array ( [0] =&gt; Array ( [columnName] =&gt; customerID [foreignTable] =&gt; customers [foreignColumn] =&gt; ID )&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[1] =&gt; Array ( [columnName] =&gt; shipperID &nbsp;[foreignTable] =&gt; shippers &nbsp;[foreignColumn] =&gt; ID )&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;)&nbsp;<br>
&nbsp;&nbsp; &nbsp; */<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function mapFieldsToForeignKeys($tableName)</strong><br>
&nbsp;&nbsp; &nbsp;/*&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If no foreign keys are present, an empty array is returned, or false in case of error.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Array( &quot;customerID&quot; =&gt; Array( [0] =&gt;&quot;customers&quot; , [1] =&gt; &quot;ID&quot;) ,<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &quot;shipperID&quot; &nbsp;=&gt; Array( [0] =&gt;&quot;shippers&quot; &nbsp;, [1] =&gt; &quot;ID&quot;)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;)<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;/*************************************<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; DEBUGGING METHODS<br>
&nbsp;&nbsp; &nbsp; *************************************/</p>

<p><br>
<strong>&nbsp;&nbsp; &nbsp;public function debugPrintSQL($sql, $bindings, $expandSQL = true)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Return an HTML-formatted string with the SQL and the bindings.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If requested, reconstruct and print out the full SQL (typically for debugging purposes) after expanding the bindings. &nbsp;TO-DO: take care of named bindings<br>
&nbsp;&nbsp; &nbsp; */</p>

<p><br>
<strong>&nbsp;&nbsp; &nbsp;public function debugPrintTextSQL($sql, $bindings, $expandSQL = true)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Return a plain-text string the SQL and the bindings.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If requested, reconstruct and print out the full SQL (typically for debugging purposes) after expanding the bindings. &nbsp;TO-DO: take care of named bindings<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
<strong>&nbsp;&nbsp; &nbsp;public function debugLogSQL($sql, $bindings, $expandSQL = true)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Write to the log file a plain-text string the SQL and the bindings.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If requested, reconstruct and log the full SQL (typically for debugging purposes) after expanding the bindings. &nbsp;TO-DO: take care of named bindings<br>
&nbsp;&nbsp; &nbsp; */</p>


  

  

<!-- -------------------------------------------------------------------------------------------------------------------------------------------- -->
<div class="library" style="">
  <p class="name">directedGraphs</p>
  <p class="description">
  Each node can carry a set of user-defined "semantics" (such as "name" and "remarks"); likewise for each edges (for example "childSequenceNo")<br>
  <br>
  An optional SQL clause can optionally be set by the invoking module (typically to enforce access restrictions, permissions, etc.)<br>
  <br>
  <br> 
  DEPENDENCIES:  <br>
  <br> 
        1) dbasePDO<br>
        2) parameterValidation<br>
 <br>   
 <br>   
  For debugging or logging purposes, the debugLogSQL() function available to thru the dbasePDO object may be used
  <br>
  Applications of DAGs include implementation of inter-related Categories or of social networks. 
  </p>  
</div>

<h3>Public Properties</h3>
<pre>
public  $methodLog = "";            // Optional descriptive text log of the actions (typically modifications) 
                                    //        done by an individual class method.  Each method that uses this, will first reset it
                                    
public  $methodErrors = "";         // Optional descriptive text that some methods use to pass error info to their calling code
                                    //        Each method that uses this, will first reset it
                                    
public  $methodResults = false;     // Optional variable that some methods use to pass additional info to their calling code
                                    //        Each method that uses this, will first reset it

public  $MAX_DEPTH = 50;            // Large enough so that anything bigger is likely a runaway recursion

public  $CATEGORY_ROOT_NODE = 1;    // Not recommended to use 0 because nodeID's are autoincrement fields, and MySQL can cause problems when 0 is stored in an autoincrement field
</pre>

<br>
<h3>Public Methods</h3>
<p><strong>&nbsp;&nbsp; &nbsp;public function __construct($db, $nodesTable, $edgesTable, $traversalTable = &quot;&quot;) &nbsp;</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;It&#39;s ok if the specified tables don&#39;t yet exist in the database.<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;ARGUMENTS:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;db&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Object of class &quot;dbasePDO&quot;<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;</p>

<p><strong>&nbsp;&nbsp; &nbsp;public function setSQLclause($clause)</strong><br>
&nbsp;&nbsp; &nbsp;/* Set an optional clause to insert in all the lookup statements (e.g., the calling module might use this to enforce restrictions, permissions, etc.)<br>
&nbsp;&nbsp; &nbsp; */</p>

<p><br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function createNodesTable($semanticsDefs)</strong><br>
&nbsp;&nbsp; &nbsp;/*&nbsp;&nbsp; &nbsp;Create a database table for the nodes, only if it does not already exist.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Each node can carry a set of user-defined &quot;semantics&quot;, with the their definitions<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example: &nbsp;$semanticsDefs = array(&quot;name&quot; =&gt; &quot;varchar(60) CHARACTER SET latin1 COLLATE latin1_general_ci DEFAULT NULL&quot;,&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &quot;remarks&quot; =&gt; &quot;varchar(100) CHARACTER SET latin1 COLLATE latin1_general_ci DEFAULT NULL&quot;);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Return 0 if no errors (table may or may not be created) and -1 in case of errors.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Note: the table&#39;s autoincrement field starts at 1; there is no way (without access to the mysql server) to make it start at 0<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function createEdgesTable($semanticsDefs)</strong><br>
&nbsp;&nbsp; &nbsp;/*&nbsp;&nbsp; &nbsp;Create a database table for the edges, only if it does not already exist.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Each edge can carry a set of user-defined &quot;semantics&quot;, with the their definitions<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example: &nbsp;$semanticsDefs = array(&quot;childSequenceNo&quot; =&gt; &quot;smallint(5) unsigned DEFAULT &#39;0&#39; COMMENT &#39;used to list a node s children in a particular order&#39;&quot;);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Return 0 if no errors (table may or may not be created) and -1 in case of errors<br>
&nbsp;&nbsp; &nbsp; */&nbsp;&nbsp; &nbsp;<br>
&nbsp;</p>

<p>&nbsp;</p>

<p><br>
<strong>&nbsp;&nbsp; &nbsp;public function createTraversalTable()</strong><br>
&nbsp;&nbsp; &nbsp;/*&nbsp;&nbsp; &nbsp;Create a database table for the saved graph traversal, only if it does not already exist.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Return 0 if no errors (table may or may not be created) and -1 in case of errors<br>
&nbsp;&nbsp; &nbsp; */&nbsp;&nbsp; &nbsp;<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function setNodeAsRoot($nodeID)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Mark the specified node as the ROOT by setting its ID to a pre-specified value (such as 1) stored in property CATEGORY_ROOT_NODE<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of failure, return an error message; if successful, a blank string is returned<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;</p>

<p><br>
<strong>&nbsp;&nbsp; &nbsp;public function addChild($parentID, $semantics = false)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Add a Node with a child relationship to the specified parent; optionally populate the newly-added node with the specified semantics</p>

<p>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If the optional $semantics argument is present, it is expected to be an array of [fieldName =&gt; fieldValue]<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;elements to be added in the table of nodes for the newly-created record. &nbsp;Example: &nbsp;[&quot;name&quot; =&gt; &quot;myName&quot; , &quot;numField&quot; =&gt; 123] &nbsp; Do NOT place SQL quotes around the names!<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;The property methodLog records the actions taken by this method (except error conditions.)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN VALUE: In case of failure, return an error message;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if successful, a blank string is returned, the &quot;methodResults&quot; property is set to the AutoIncrement value for new node ID,<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;and the &quot;methodLog&quot; property is set to details of the process<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;</p>

<p>&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function addEdge($parentID, $childID)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Add a directed edge between the specified nodes (from parent to child.)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of failure, return an error message, and possibly set the &quot;errorSummary&quot; and &quot;errorDetails&quot; properties;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if successful, a blank string is returned<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;TO-DO: must verify that no circularities get introduced<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function removeEdge($parentID, $childID)</strong>&nbsp;&nbsp; &nbsp;<br>
&nbsp; &nbsp;&nbsp;/* &nbsp;&nbsp; &nbsp;Remove the edge between the specified nodes. &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;IMPORTANT: No check is done about the child node possibly becoming orphaned as a result. &nbsp;The calling function might opt to use the method numberParents() to determine if the node is an only child.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of failure, return an error message, and possibly set the &quot;errorSummary&quot; and &quot;errorDetails&quot; properties;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if successful, return a blank string.<br>
&nbsp;&nbsp; &nbsp; */</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;&nbsp;<strong> &nbsp;public function switchParentNode($childID, $oldParentID, $newParentID)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Switch a parent/child relationship between the specified nodes.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Take the child away from the old parent, and re-assign to the new one.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of failure, return an error message, and possibly set the &quot;errorSummary&quot; and &quot;errorDetails&quot; properties;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if successful, a blank string is returned<br>
&nbsp;&nbsp; &nbsp; */</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><strong>&nbsp;&nbsp; &nbsp;public function switchChildNode($parentID, $oldChildID, $newChildID)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Switch a parent/child relationship between the specified nodes.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;From the parent, take the old child away , and relace it with the new child.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of failure, return an error message, and possibly set the &quot;errorSummary&quot; and &quot;errorDetails&quot; properties;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if successful, a blank string is returned<br>
&nbsp;&nbsp; &nbsp; */</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><strong>&nbsp;&nbsp; &nbsp;public function deleteNode($nodeID)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Delete the specified node in the graph, including all the graph edges entering or leaving the node.<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;(The caller function ought to first to determine whether ok to delete the node. &nbsp;Also, no check is done to prevent deletion of the root)&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of failure, return an error message, and possibly set the &quot;errorSummary&quot; and &quot;errorDetails&quot; properties;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if successful, a blank string is returned<br>
&nbsp;&nbsp; &nbsp; */</p>

<p>&nbsp;</p>

<p><strong>&nbsp;&nbsp; &nbsp;public function retrieveNodes($clause = &quot;&quot;, $sortOrder = &quot;&quot;)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Locate all the nodes, subject to the optional restriction, expressed as an SQL subquery clause: for example &quot;not isnull(`remarks`)&quot; &nbsp;[Note: this is above and beyond&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;the optional SQL clause specified in the class property &quot;SQLclause&quot;]<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If a sort order is specified, it must be of a form &nbsp;suitable for a SQL query (example1: &quot;`name`&quot; &nbsp;; &nbsp;example2: &nbsp;&quot;`name`, `ID` DESC&quot;)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN a traversable data set of nodes, sorted by the specified field. &nbsp;Each entry is an array of 1 or more parts: ID and any present semantic fields (for example [ID, name, remarks, permissions])<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of error, return false.<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function nodeSemanticsMatches($fieldName, $fieldValue)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Locate all the nodes whose value in the specified semantic field matches the given string (as a substring.)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN an array of matches, sorted by the specified semantic field; each entry is an associative/enum array of at least 2 parts: [node ID, fieldName, any_other_semantic_fields].<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; In case of error, return false.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;This function is useful for searches.<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;&nbsp;<strong> &nbsp;public function semanticsLookupSingleField($nodeID, $fieldName)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Look up and return the value of the specified semantic field for the given node.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example: &nbsp;semanticsLookupSingleField(123, &quot;`name`&quot;)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;A blank string is returned if no semantics are found, or in case of error.<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;</p>

<p><br>
<strong>&nbsp;&nbsp; &nbsp;public function semanticsLookup($nodeID, $fields = &quot;*&quot;)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Look up and return the semantics data of the specified node from its ID, as an array $fieldName =&gt; $fieldValue<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;A blank string is returned if no semantics are found, or in case of error.<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;</p>

<p><br>
<strong>&nbsp;&nbsp; &nbsp;public function updateNodeSemantics($nodeID, $newSemantics)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Change the semantic values attached to the specified node, as directed.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example: &nbsp;$newSemantics = array(&quot;name&quot; =&gt; &quot;someName&quot; , &quot;remarks&quot; =&gt; &quot;someRemarks&quot; , &quot;permissions&quot; =&gt; &quot;somePermissions&quot;)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN VALUE: 1 if the record was modified, 0 if not (0 indicates an attempt to update to the same values that the record already had.)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of failure, an exception is thrown.<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;</p>

<p><br>
<strong>&nbsp;&nbsp; &nbsp;public function fetchChildren($nodeID, $sortby = false)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Fetch all the children of the given node, optionally sorted as requested, within the constraints of the optional &quot;SQLclause&quot; property.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Return a (possibly empty) an associative/enum array of elements that contain: [childID, &lt;all the semantic fields&gt;]<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of failure, false is returned.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Note: it&#39;s convenient to have an array as a result, because it can be rewound if desired, with the reset() function.<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function fetchParents($nodeID, $sortby = false)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Fetch all the parents of the given node, optionally sorted as requested, within the constraints of the optional &quot;SQLclause&quot; property.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Return a (possibly empty) associative/enum array of elements; each of them is an array that contains: [parentID, &lt;all the semantic fields&gt;]<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of failure, false is returned.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Note: it&#39;s convenient to have an array as a result, because it can be rewound if desired, with the reset() function.<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp; <span style="color:#b22222">&nbsp;ADDED IN v. 4.2&nbsp;</span><br>
<strong>&nbsp; &nbsp;public function numberParents($nodeID)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Return the number of parents of the given node, within the constraints of the optional &quot;SQLclause&quot; object property.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of failure, false is returned.<br>
&nbsp;&nbsp; &nbsp; */</p>

<p><br>
<strong>&nbsp;&nbsp; &nbsp;public function fetchSiblings($nodeID, $sortby = false)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Fetch all the siblings of the given node, optionally sorted as requested, within the constraints of the optional SQL WHERE clause.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Return a (possibly empty) associative/enum array of elements, each of whis is an associative array that contains: [ID, name, remarks].<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of failure, false is returned.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Note: it&#39;s convenient to have an array as a result, because it can be rewound if desired, with the reset() function.<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;function locateDanglingEdges()</strong><br>
&nbsp;&nbsp; &nbsp;// Locate all the edges (ideally none) that lack a corresponding node at either (child or parent) end.<br>
&nbsp;&nbsp; &nbsp;// Return an array of all such edges<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;function traverseGraphAndSave($sortby)&nbsp;</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Traverse the graph from its root, and build (or rebuild) the array of graph-traversal information,&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;stored as the &quot;graphTraversal&quot; property, and saved in the table whose name is stored in the property &quot;traversalTable&quot;.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Traversal is done in pre-order (node first, then the traversals of its children in turn.)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN VALUE: an empty string if successful, or an error message in case of errors.<br>
&nbsp;&nbsp; &nbsp; */&nbsp;<br>
<br>
&nbsp;&nbsp; &nbsp;</p>

<p>&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;function traverseGraph($sortby)&nbsp;</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Traverse the graph from its root, and build (or rebuild) the array of graph-traversal information,&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;stored as the &quot;graphTraversal&quot; property.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Traversal is done in pre-order (node first, then the traversals of its children in turn.)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN VALUE: an empty string if successful, or an error message in case of errors.<br>
&nbsp;&nbsp; &nbsp; */</p>

<p>&nbsp;</p>

<p><br>
<strong>&nbsp;&nbsp; &nbsp;function recursiveGraphTraversalInMemory($nodeID, $depth)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;Recursively traverse the directed graph, starting at the specified node, and update accordingly the array&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;in the &quot;graphTraversal&quot; property, adding to it info about the specified node (its ID and depth) and, recursively, about its children.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Information about the node&#39;s children is expected to be in memory, stored in the property &quot;edgeArray&quot;.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;To catch possible runaway recursions, the recursion is aborted if a depth of $MAX_DEPTH is reached.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;ARGUMENTS<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;nodeID: &nbsp;&nbsp; &nbsp;starting point<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;depth:&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;depth (in the graph traversal) of the starting-point node<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN VALUE: an empty string if successful, or an error message in case of errors.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;SIDE EFFECTS: update the array in the &quot;graphTraversal&quot; property<br>
&nbsp;&nbsp; &nbsp; */</p>
 




  
<!-- -------------------------------------------------------------------------------------------------------------------------------------------- -->
<div class="library" style="">
  <p class="name">formBuilder</p>
  <p class="description">
    Classes to easily build HTML forms, as well as "Control Panels" ("Dashboards") consisting of a table of such forms (each of which is referred to as a "pane")<br>
        <br>
    <br>
    2 classes:<br>
    <br>
    controlPanel<br>
    &nbsp;&nbsp; &nbsp;    A Control Panel (aka Dashboard) is defined as a table of forms<br>
    <br>
    formBuilder<br>
    &nbsp;&nbsp; &nbsp;    A class to build and return simple HTML forms, especially suited for "Control Panels" (table of forms)<br>
    <br>
    <br>
    <br>
    DEPENDENCIES:  None
  </p>  
</div>

<h3>controlPanel &ndash; Public Properties</h3>
<pre>
public $paneTitleStyle;                  // If provided, it will be used for each pane (containing a form)
public $tdWrapOptions;                   // Options for the <td> element of each cell (containing a form)
public $nCols;                           // Number of columns in the table of forms.  This attribute needs to be public, because in some cases
                                         //            (involving table cells spanning multiple rows) it must be modified during execution
public $tableOptions = "border='1'";     // Styling for the larger table

private $row = 1;            // Current row in the construction of the Control Panel
private $col = 1;            // Current column
private $CPhtml = "";        // HTML forming the Control Panel  
</pre>

<br>
<h3>controlPanel &ndash; Public Methods</h3>
<p><strong>&nbsp;&nbsp; &nbsp;function __construct($nCols)&nbsp;&nbsp; &nbsp;// CONSTRUCTOR</strong><br>
&nbsp; &nbsp; // Specify the number of columns in the table of forms</p>

<p><br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function addForm($form)</strong><br>
&nbsp;&nbsp; &nbsp;// Add a form (an object of type &quot;formBuilder&quot;) to the Control Panel being built<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function addGeneralPane($html)</strong><br>
&nbsp;&nbsp; &nbsp;// Add a general pane (HTML consisting of &lt;td&gt; element and its content) to the Control Panel being built<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function generateCP()</strong><br>
&nbsp;&nbsp; &nbsp;// Generate and return the Control Panel</p>


  
<br><br>
<h3>formBuilder &ndash; Public Properties</h3>
<pre>
public $title;                    // Optional title to display just before the &lt;form> element
public $titleStyle = "font-weight:bold; color:brown; font-size:12px";    // Default style to be used for the title
public $formStyle;                // CSS used on the form
public $handler;                  // URL of script that will handle the form

public $submitLabel = "Enter";    // Text to show on the Submit button
public $hiddenOptions;            // Array of HTML attributes for an optional &lt;hidden> control. E.g.
                                  //        array("name='group' value='vert'" , 
                                  //              "name='plugin' value='t'")
                                  //        If just 1 element, it may optionally be passed as a string instead
</pre>


<br><br>
<h3>formBuilder &ndash; Public Methods</h3>
<p><tt><strong>&nbsp;&nbsp; &nbsp;function __construct($title, $handlerScript, $method = &quot;POST&quot;) &nbsp;{&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;// CONSTRUCTOR</strong><br>
&nbsp;&nbsp; &nbsp;/*&nbsp; &nbsp; &nbsp;$title&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Optional title (header text) to display just before the &lt;form&gt; element<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$handlerScript&nbsp; &nbsp; &nbsp; URL of script that will handle the form. &nbsp;Use NULL if employing a JS handler<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$method;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Method (&quot;POST&quot; or &quot;GET&quot;) to be used by the form to invoke its handler script<br>
&nbsp;&nbsp; &nbsp;*/<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function addJS_handler($func)</strong><br>
&nbsp;&nbsp; &nbsp;// Specify a JS handler function, invoked when the form&#39;s submit button is clicked;<br>
&nbsp;&nbsp; &nbsp;// &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;it will be the JS handler&#39;s responsibility, if desired, to submit the form with document.testform.submit()<br>
&nbsp;&nbsp; &nbsp;//&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;An object containing the form is passed as argument to the JS function; for example, the function can extract the value of a field as: &nbsp;formObject.someFieldName.value<br>
&nbsp;&nbsp; &nbsp;//&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;See https://www.javaworld.com/article/2077176/using-javascript-and-forms.html?page=2</tt><br>
&nbsp;</p>

<p><br>
<tt><strong>&nbsp;&nbsp; &nbsp;public function addHeaderLine($labelString)</strong><br>
&nbsp;&nbsp; &nbsp;// Append a row with the specififed label and a blank control. &nbsp;This pair might be used as a header at the top of the form, or as a mid-form sub-header/separator text<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function addFooter($text)</strong><br>
&nbsp;&nbsp; &nbsp;// Insert the given text (possibly HTML) at the very bottom of the form, right after the Submit button<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function addBlankLine()</strong><br>
&nbsp;&nbsp; &nbsp;// Append a row with a blank label and a blank control</tt><br>
&nbsp;</p>

<p><br>
<tt><strong>&nbsp;&nbsp; &nbsp;public function addControl_General($labelString, $controlHTML)&nbsp;&nbsp; &nbsp;</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Append a row with the specififed label and a general control (its HTML text).<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example of a text-input control: &nbsp;&quot;&lt;input type=&#39;text&#39; name=&#39;someName&#39;&gt;&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;More specific methods in this class are provided for many common controls (such as text, pulldown menus, etc)&nbsp;<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function addControlText($label, $controlName, $size = null)&nbsp; &nbsp; &nbsp; </strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;// Append a row with the specififed label and a text control, optionally specifying the size of the text field<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function addControl_Text($label, $controlName, $parArray = false)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Append a row with the specified label, and a text-input control with the given name and parameters.<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;The optional parameters of the text-input control are specified using entries of the $parArray argument; allowed values:&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;value&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;size&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;maxlength&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;id&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;onclick&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;onchange&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;EXAMPLE: $parArray = array(&quot;size&quot; =&gt; &quot;3&quot; , &quot;maxlength&quot; =&gt; 5, &quot;value&quot; =&gt; &quot;123&quot; , &quot;onclick&quot; =&gt; &quot;myClickFunction()&quot;)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;For now, a few JS events are handled on a case-by-case. &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Later on, maybe turn them into an array such as &nbsp;&quot;js&quot; =&gt; array(&quot;onclick&quot; =&gt; &quot;myClickFunction()&quot; , &quot;onchange&quot; =&gt; &quot;myChangeFunction()&quot;)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;OR maybe: &nbsp;&quot;js&quot; =&gt; &quot;onclick=&#39;myClickFunction()&#39; onchange=&#39;myChangeFunction()&#39;&quot;<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function addControl_Checkbox($label, $controlName, $parArray = false)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Append a row with the specififed label, and a chebox control with the given name and parameters.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;EXAMPLE: &nbsp;addControl_Checkbox(&quot;Gift wrapped?&quot;, &quot;gift&quot;, array(&quot;checked&quot; =&gt; true))<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Optional parameters are specified using elements of the $parArray argument; allowed values:&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;checked&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;onclick&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;onchange&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;EXAMPLE: $parArray = array(&quot;size&quot; =&gt; &quot;3&quot; , &quot;maxlength&quot; =&gt; 5, &quot;value&quot; =&gt; &quot;123&quot; , &quot;onclick&quot; =&gt; &quot;myClickFunction()&quot;)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;For now, a few JS events are handled on a case-by-case. &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Later on, maybe turn them into an array such as &nbsp;&quot;js&quot; =&gt; array(&quot;onclick&quot; =&gt; &quot;myClickFunction()&quot; , &quot;onchange&quot; =&gt; &quot;myChangeFunction()&quot;)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;OR maybe: &nbsp;&quot;js&quot; =&gt; &quot;onclick=&#39;myClickFunction()&#39; onchange=&#39;myChangeFunction()&#39;&quot;<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function addControl_Password($label, $controlName, $parArray = false)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Append a row with the specififed label, and a password-input control.<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Optional parameters are specified using elements of the $parArray argument; allowed values:&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;size&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;maxlength&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;id&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;onclick&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;onchange&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;EXAMPLE: $parArray = array(&quot;size&quot; =&gt; &quot;3&quot; , &quot;maxlength&quot; =&gt; 5, &quot;value&quot; =&gt; &quot;123&quot; , &quot;onclick&quot; =&gt; &quot;myClickFunction()&quot;)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;TO-DO: maybe combine with addControl_Text() ?<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;For now, a few JS events are handled on a case-by-case. &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Later on, maybe turn them into an array such as &nbsp;&quot;js&quot; =&gt; array(&quot;onclick&quot; =&gt; &quot;myClickFunction()&quot; , &quot;onchange&quot; =&gt; &quot;myChangeFunction()&quot;)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;OR maybe: &nbsp;&quot;js&quot; =&gt; &quot;onclick=&#39;myClickFunction()&#39; onchange=&#39;myChangeFunction()&#39;&quot;<br>
&nbsp;&nbsp; &nbsp; */<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function addControl_PulldownMenu($label, $menuDataset, $controlName, $selectedInstructions = &quot;[SELECT]&quot;, $optionsArray = false)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Append a row with the specififed label, and a pull-down menu.<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;ARGUMENTS:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$menuDataset &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Must be a traversable object; for example an array or something returned by an SQL select query; its entries may be single values or arrays.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If its entries are single values or arrays with 1 element, they are used for both the picked value and the shown value;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if they are arrays with 2+ elements, the 1st element is used for the picked value, and the 2nd one is used for the shown value.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$controlName&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;A string representing an array. &nbsp;It MUST end in &quot;[]&quot;; for example, &quot;someName[]&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$selectedInstructions&nbsp;&nbsp; &nbsp;Optional. &nbsp;If present (and not over-ridden, see below), the first entry of the menu shows the specified string and is selected; its picked value is blanl<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$optionsArray&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Optional array. &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Element &quot;style&quot;, if present, sets a CSS style for the &lt;select&gt; tag<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Element &quot;selected&quot;, if present, specifies a value in the dataset that will selected. &nbsp;This will only occur if the specified value actually occurs in the dataset; if it occurs, it will override $selectedInstructions, if applicable<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function addControl_Hidden($name, $value)</strong><br>
&nbsp;&nbsp; &nbsp;// Add a &quot;hidden input&quot; to the form, with the given name/value pair<br>
&nbsp;&nbsp; &nbsp;{<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$this-&gt;hiddenOptions[] = &quot;name=&#39;$name&#39; value=&#39;$value&#39;&quot;;<br>
&nbsp;&nbsp; &nbsp;}<br>
&nbsp;&nbsp; &nbsp;</tt></p>

<p><tt>&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function generateHTML($submitLabel = &quot;&quot;)&nbsp;</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Create and return an HTML form (preceded by an optional title, specified at object-instantiation time.) &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;The optional argument, if present, conveniently allows specifying a label insude the form&#39; SUBMIT button.<br>
&nbsp;&nbsp; &nbsp; */&nbsp;</tt></p>

  
  



<!-- -------------------------------------------------------------------------------------------------------------------------------------------- -->
<div class="library" style="">
  <p class="name">logging </p>
  <p class="description">
    Class to log SYSTEM MESSAGES (such as alerts or diagnostics) into a text file or an HTML file<br>
    &nbsp;&nbsp;&nbsp; &nbsp;<br>
    &nbsp;&nbsp;&nbsp; &nbsp;<br>
    &nbsp;&nbsp;&nbsp; &nbsp;<strong>DEPENDENCIES</strong>: &nbsp;None<br>
    &nbsp;<br>
    &nbsp;<br>
    &nbsp;&nbsp;&nbsp; &nbsp;<strong>EXAMPLE OF USAGE:</strong><br>
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
  </p>

  <div style="width:50%; background:#eeeeee; border:1px solid #cccccc; padding:5px 10px">
    <tt>
    &nbsp; &nbsp; &nbsp; &nbsp; $myLog = new logging(&quot;myLogFile.htm&quot;);<br>
    &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
    &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$myLog-&gt;insertSeparator();<br>
    &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$myLog-&gt;fileLogging(&quot;Operation started&quot;);<br>
    &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$myLog-&gt;logMessage(1, &quot;some detail&quot;, &quot;font-weight:bold&quot;);<br>
    &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$myLog-&gt;logErrorMessage(&quot;Operation FAILED&quot;);
    </tt>
  </div>
   <br>
</div>

<h3>Configurable Public Properties</h3>
<pre>
public $logFile;                      // Name of file where to store the log messages.  If file already exists, the message gets appended; otherwise, the file gets created
public $htmlLogging = true;           // Flag indicating whether the log file is meant to be an HTML file; if false, it will be regarded as a text file
public $style = "";                   // Optional HTML styling to apply to the message; if present, a <span> tag is used
public $indentAmount = 0;             // 0 indicates no indentation; higher integers represent progressively-increasing indentation (in points for HTML messages, or number of blanks for text ones)
public $indentIncrementHTML = 15;     // Indent amount , relative to the previous message "level", in points (for HTML messages only)
public $indentIncrementText = 3;      // Indent amount , relative to the previous message "level", in characters (for text messages only)
public $timeStamp = true;             // Whether to timestamp the message
public $extraPrefix = "";             // Optional extra prefix (at the very beginning)
public $separator = "_____________________________________________________________________________________________________________________";  
</pre>

<br>
<h3>Public Methods</h3>
<p><strong>&nbsp;&nbsp; &nbsp;function &nbsp;__construct($logFilename)</strong><br>
&nbsp;&nbsp; &nbsp;// Specify a filename to use for logging; it will generally be a .txt for or .htm filed depending on the &quot;htmlLogging&quot; property<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function logMessage($level, $msg, $style = &quot;&quot;)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;HIGH-level function to log the given text message to the designated log file (whose name is stored in the class property &quot;logFile&quot;). &nbsp;If the log file doesn&#39;t exist, it gets created.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;A new line is added after each entry.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;ARGUMENTS:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;level&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;An integer indicating the &quot;importance&quot;: 0 (most important), 1, 2, ...<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;msg&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;The message to log<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;style&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Optional HTML styling to apply to the message, using a &lt;span&gt; tag. &nbsp;Do NOT include the &lt;span&gt; tag<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN VALUE: true if successful, or false if not.<br>
&nbsp;&nbsp; &nbsp; */</p>

<p><br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function logErrorMessage($msg)</strong><br>
&nbsp;&nbsp; &nbsp;/*&nbsp;&nbsp; &nbsp;Log an error message. &nbsp;Same as regular logging, but with more emphasis, and the backtrace of the call stack<br>
&nbsp;&nbsp; &nbsp; */</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp; &nbsp;<strong>public function insertSeparator()</strong><br>
&nbsp;&nbsp; &nbsp;// Append the standard separator (and a new line) to the log file</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><strong>&nbsp;&nbsp; &nbsp;public function fileLogging($msg)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;LOW-level function to append the given message to the log file (or to create a log file, if not present.)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;A newline is automatically added.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If htmlLogging is enabled, then any HTML in the message (which could mess up the log file&#39;s viewing) is protected with htmlentities<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;The message is optionally modified by:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;- the string: &quot;date time&quot;, where date is mm/dd/yy<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;- an indentation<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;- a user-specified prefix<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;- a user-specifief HTML style<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN VALUE: true if successful, or false if not.<br>
&nbsp;&nbsp; &nbsp; */</p>




  


<!-- -------------------------------------------------------------------------------------------------------------------------------------------- -->
 <div class="library" style="">
  <p class="name">parameterValidation</p>
  <p class="description">
    Class with static functions for PARAMETER VALIDATION (for example, for site security) <br>
 <br>
 <br>
     DEPENDENCIES:  None<br>
 <br>
 <br>
     USAGE EXAMPLE:<br>
   <br> 
        parameterValidation::validateInteger($myValue)
  </p>  
</div>


<br>
<h3>Public Methods</h3>
<p><strong>&nbsp;&nbsp; &nbsp;public static function validatePositiveInteger($arg)</strong><br>
&nbsp;&nbsp; &nbsp;/* Check if the given argument is a positive, non-zero integer, (or a string representing such an integer.) &nbsp;<br>
&nbsp;&nbsp; &nbsp; &nbsp; Return true if the check succeeded, or false if not<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public static function validateInteger($arg)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Check if the given argument is a positive integer (or a string representing such an integer.) &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Return true if the check succeeded, or false if not<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public static function validateNumeric($arg)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Check if the given argument is a numeric quantity.&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Return true if the check succeeded, or false if not<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public static function validateAlphanumeric($arg)</strong><br>
&nbsp;&nbsp; &nbsp;/* Verify that the given argument is alphanumeric<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;</p>

<p>&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public static function validateAlphanumericOrBlank($arg)</strong><br>
&nbsp;&nbsp; &nbsp;/* Verify that the given argument is alphanumeric or blank<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public static function validateAlphanumericOrUnderscore($arg)</strong><br>
&nbsp;&nbsp; &nbsp;/* Verify that the given argument is alphanumeric or underscore<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public static function validateUsername($user)&nbsp; </strong>&nbsp; &nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;/* Verify that the given username (which might also be an email address or an ID) is drawn from the allowed character set&nbsp;<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public static function validatePassword($pass)</strong>&nbsp; &nbsp;&nbsp;<br>
&nbsp;&nbsp; &nbsp;/* Verify that the given password is drawn from the allowed character set&nbsp;<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public static function validatePattern($string, $pattern, $debug = false)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Check the given string value against the specified RegEx pattern.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If it matches (or if it&#39;s an empty string), return true; otherwise print out the given error message (details based on the $stage flag) and return false.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;EXAMPLE:&nbsp;&nbsp; &nbsp;validatePattern($ID, &quot;/^[0-9]+$/&quot;, &quot;ID must be an integer. &nbsp;Value provided: &amp;ldquo;$ID&amp;rdquo;&quot;, true);<br>
&nbsp;&nbsp; &nbsp; */</p>


  

<!-- -------------------------------------------------------------------------------------------------------------------------------------------- -->
 <div class="library" style="">
  <p class="name">siteAuth</p>
  <p class="description">
      <p><strong>Class for SITE USER AUTHENTICATION, incl. login/logout management.</strong><br>
      &nbsp;&nbsp; &nbsp;<br>
      &nbsp;&nbsp; &nbsp;Multiple independent websites are supported.<br>
      &nbsp;&nbsp; &nbsp;<br>
      &nbsp;&nbsp; &nbsp;Authenticated user access is implemented by using randomly-generated session ID&#39;s, stored in a cookie on the client side,&nbsp;<br>
      &nbsp;&nbsp; &nbsp;and in the database on the server side.<br>
      &nbsp;&nbsp; &nbsp;<br>
      &nbsp;&nbsp; &nbsp;The central entity for site authentication is the &quot;User Access ID&quot;, which can be thought of as a particular &quot;subscription&quot; (account) of a user to a site.<br>
      &nbsp;&nbsp; &nbsp;A particular user might have multiple subscriptions (accounts) on different sites, and even multiple ones on a single site.<br>
      &nbsp;&nbsp; &nbsp;The &quot;User Access ID&quot; resolves the particular subscription (account) on a particular site.</p>
      
      <p>&nbsp;&nbsp; &nbsp;On the server side, it makes use of 1 database table:<br>
      &nbsp;&nbsp; &nbsp;<br>
      &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;- A login table (specific to this module), to store the sessionID&#39;s&nbsp;</p>
      
      <p><br>
      &nbsp;&nbsp;&nbsp; &nbsp;<strong>DEPENDENCIES: &nbsp;</strong><br>
      &nbsp;<br>
      &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;- dbasePDO&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;This in turn, depends on the &quot;logging&quot; class<br>
      &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;- cookies&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Static methods to set, clear, read and check cookies<br>
      &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;- logging&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Use to log messages (diagnostics, etc) on the server</p>
  </p>  
</div>

<h3>Public Properties</h3>
<pre>
public $loginTable = "entry";                 // Name of table used to store the session info 
public $db;                                   // An object of the "dbasePDO" class, to interact with the database

public $cookieSession = "pforce";             // Name of cookie with the sessionID
public $cookieUsername = "username";          // Name of cookie used to store the user name
public $cookieOld = "old";                    // Name of cookie used to store the first few digits of the old session ID

public $userAccessID = false;                 // ID that identifies an instance of user access; typically, either a User ID or a Subscription ID.  If not logged it, then false

public $errorMessage = "";                    // It gets set with an explanatory string in case of errors

public $messageLogger;                        // An object of the "logging" class

public $allowMultipleLogins = true;           // Flag indicating whether the same user account is allowed to be accessed through multiple simultaneous logins
                                            
public $maxLoginHours = 9;                    // Login expiration time, in hours.  Only applicable if allowMultipleLogins is false

public $loginURL;                             // URL to re-direct to if login is required but user isn't logged in 
</pre>

<br>
<h3>Public Methods</h3>
<p><strong>&nbsp;&nbsp; &nbsp;function __construct($db, $messageLogger)&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;// CONSTRUCTOR</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;$db: An object of the &quot;dbasePDO&quot; class, to interact with the database<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$messageLogger: An object of the &quot;logging&quot; class, to log system messages (such as alerts or diagnostics) into a text file or an HTML file<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function userLoginStatusUnverified()</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Perform a *minimal* check of whether a user is logged in; only to be used in situations where restricted access isn&#39;t important.<br>
&nbsp;&nbsp; &nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN VALUE: &nbsp;if logged in, return the username; otherwise, set the property &quot;errorMessage&quot; with an explanation of the failed login, and return FALSE.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;The session ID found in the user&#39;s cookie is NOT verified against the database.<br>
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;This function is a &quot;light&quot; version of userLoginStatus(), suitable for low-protection pages.&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Since no cookies are set, this function can be invoked anywhere; &nbsp;<br>
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;this is handy in situations where the page header has already been sent.&nbsp;<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function userLoginStatus()</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Perform a THOROUGH CHECK of the user&#39;s login status, based on the available session cookie value, checked against the database. &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;IMPORTANT: this function MUST be invoked PRIOR to outputting any text, since it might set cookies.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN VALUE: &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If logged in, set the property &quot;userAccessID&quot;, and also return that value.&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If not logged in, then completely log out user (clear his session variables, cookies, database info),&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;set the property &quot;errorMessage&quot; with an explanation of the failed login, and return FALSE.<br>
&nbsp;&nbsp; &nbsp; */</p>

<p>&nbsp;</p>

<p><br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function &nbsp;validateLoginAndLookupUser()</strong><br>
&nbsp;&nbsp; &nbsp;/* If user&#39;s login is validated, return the userAccessID (aka subscriptionID); otherwise, return false<br>
&nbsp;&nbsp; &nbsp; */&nbsp;&nbsp; &nbsp;&nbsp;<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function loginUser($userAccessID, $username, $stayLogged, $visitorID = false)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;IMPORTANT: This function, because it may set cookies, must be called before any HTML output is started!<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Log in the user with the given ID<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;ARGUMENTS<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$userAccessID&nbsp;&nbsp; &nbsp;Typically, a user ID or a subscription ID<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$username&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Redundant: passed for avoiding an extra database call<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$stayLogged&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Flag indicates whether the login is meant to be persistent upon closing the browser<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$visitorID&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Optional integer, for example to associate a login account with data collected from user prior to login<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;A database connection is assumed.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;For security purposes, a new sessionID is always generated.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;The session info is stored in the database table &nbsp;$this-&gt;loginTable<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;COOKIES<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$this-&gt;cookieSession:&nbsp;&nbsp; &nbsp;the session ID (also stored in the database)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$this-&gt;cookieUsername: for convenient access by low-value pages.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$this-&gt;cookieOld:&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;the first few digits of the last sessionID, to clear old session values that may still linger around.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;This is useful for garbage-collecting of one-time logins in cases&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;where the user closes the browser w/o logging out.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN VALUES<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If successful, return true; otherwise, false. &nbsp;If errors arose, they are noted in the property &quot;errorMessage&quot;, and also logged<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;on server<br>
&nbsp;&nbsp; &nbsp; */&nbsp; &nbsp;&nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function logout($all = false)</strong><br>
&nbsp;&nbsp; &nbsp;/* IMPORTANT: This function, because it may set cookies, must be called before any HTML output is started<br>
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<br>
&nbsp;&nbsp; &nbsp; &nbsp; If the $all flag is set, then ALL login sessions by the current user (e.g. on different devices or browsers) are terminated.<br>
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<br>
&nbsp;&nbsp; &nbsp; &nbsp; The username is returned (handy to greet goodbye to the user.)<br>
&nbsp;&nbsp; &nbsp;*/&nbsp;<br>
<br>
&nbsp;&nbsp; &nbsp;</p>

<p>&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function enforceLogin($loginPage = false)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Re-direct user to login page if not logged in. &nbsp;Perform a THOROUGH CHECK for the login status.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If user is logged in, return the userAccessID.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;The database connection gets started if needed.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[Note: if using the &quot;pageBuilder&quot; module, this function is only used for pages that don&#39;t employ the startPage() function]<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;</p>

<p>&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function redirectToLoginPage($loginPage)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Redirect user to the specified login page, and exit.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;A full URL is recommended over a relative path, to cover situations where the request comes from any pages in the site.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;The loginPage may not include a # fragment<br>
&nbsp;&nbsp; &nbsp;*/<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;</p>

<p><strong>&nbsp;&nbsp; &nbsp;public function loginCount($userAccessID)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Return the number of logins that the user has done.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Handy to optionally pass a login count to the login splash page<br>
&nbsp;&nbsp; &nbsp; */<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;</p>

<p><strong>&nbsp;&nbsp; &nbsp;public function setupDatabase()</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Create the table used for managing the logins. &nbsp;To be used for installing a new site.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of failure, an exception is thrown<br>
&nbsp;&nbsp; &nbsp; */<br>
&nbsp;</p>

  


  

<!-- -------------------------------------------------------------------------------------------------------------------------------------------- -->
 <div class="library" style="">
  <p class="name">siteMembership </p>
  <p class="description">
Class for the management of generic user accounts on a site: the underlying database table could have more fields, used by other more site-specific modules<br>
    <br>
Based on the entity "User-access ID" : identifying a particular membership for some user<br>
    <br>
    <br>
DEPENDENCIES: <br>  
    <br>
            - dbasePDO
  </p>  
</div>

<h3>Public Properties</h3>
<pre>
public $errorSummary;            // Summary of the last error, if applicable  
</pre>

<br>
<h3>Public Methods</h3>
<p><strong>&nbsp;&nbsp; &nbsp;public function __construct($dbPDO)</strong><br>
&nbsp;&nbsp; &nbsp;// Argument: &nbsp;Object for database operations<br>
&nbsp;</p>

<p>&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function validateUser($dbField, $usernameOrEmail, $attemptedPassword, $marketingSlogan = &quot;&quot;)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Attempt to retrieve the membership record for the user with the provided credentials.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Verify that the credentials are valid and that the account is active.<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;ARGUMENTS:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$dbField &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Should be the string &quot;email&quot; or &quot;username&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$usernameOrEmail<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$attemptedPassword<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$marketingSlogan&nbsp;&nbsp; &nbsp;An optional string to be returned to the user in case the memberhips has expirerd<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If successful, return the array [ID, username] ; otherwise, return false and set the property &quot;errorSummary&quot; to the reason for failure<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function reValidatePassword($userID, $attemptedPassword)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;For safety, wheneven a user attempts to make important account changes.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Return true if re-validation suceeeds, or false otherwise.<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;</p>

<p><br>
<strong>&nbsp;&nbsp; &nbsp;public function changePassword($userID, $newPass)</strong><br>
&nbsp;&nbsp; &nbsp;// Update the given user&#39;s password with a hashed version of the given new one<br>
<br>
&nbsp;&nbsp; &nbsp;</p>

<p><br>
<strong>&nbsp;&nbsp; &nbsp;public function listActiveUsers($siteID)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Return a traversable dataset of ACTIVE users on the specified site, with all the available fields in the database table.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example of a way to traverse it:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$allUsers = $siteMembership_object-&gt;listActiveUsers($siteID);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;foreach ($allUsers as $user) &nbsp;{<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;print_r($user);<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;echo &quot;&lt;br&gt;&lt;br&gt;&quot;;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function addUserToAccount($siteID, $username, $email, $pass, $permissions = 0)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Add a new user to the current site.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Return the new userID if all operations were successful, or false othewise<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;</p>

<p>&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function addNewAccount($name, $email, $pass, $newSiteID = null)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Add a new account to the site, including a user who is an admin for that account.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Optionally, accept a value for the new siteID (typically used for sites identified by text codes, such as &quot;e&quot;, &quot;s&quot;);&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if a value isn&#39;t provided, the next available table record ID (for example 23) is used (as a string; for example &quot;23&quot;).<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Return the new account ID if all operations were successful, or -1 othewise; in case of errors, also set the property &quot;errorSummary&quot;<br>
&nbsp;&nbsp; &nbsp; */<br>
&nbsp;&nbsp;<br>
&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function makeAdmin($userID, $siteManager = false)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Mark the specified user as an admin for their account - and, optionally, also as a Site Manager<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Return true iff successful<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;</p>

<p>&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function setupDatabase()</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Create the table used for the membership information. &nbsp;To be used for installing a new site.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;In case of failure, an exception is thrown<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;</p>

<p>&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function alreadyInstalled()</strong><br>
&nbsp;&nbsp; &nbsp;// Return true iff this module table is already installed<br>
<br>
&nbsp;&nbsp; &nbsp;</p>

<p><br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function lookupUserByEmail($email)</strong><br>
&nbsp;&nbsp; &nbsp;// Return the full record of the user with the given email address. &nbsp;If that email occurs in more than one place, the user with the largest ID is picked<br>
&nbsp;</p>

<p>&nbsp;</p>

<p><br>
<strong>&nbsp;&nbsp; &nbsp;public function verifyUserCredentialsAndFetchUserInfo($userAccessID)&nbsp;&nbsp; &nbsp;</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Extract and return all user-access field values (such as username, email, active flag, etc),<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;while also enforcing the account to be active.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;ARGUMENT:&nbsp;&nbsp; &nbsp;The user&#39;s access ID<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN VALUE: an associative array, containing the user&#39;s data. &nbsp;In case of error or record not found (possibly because account was inactive), return false.<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function isUserActive($userAccessID)</strong><br>
&nbsp;&nbsp; &nbsp;/* Verify the validity of the user access ID. &nbsp;Return true iff an ACTIVE user membership with the given ID is found<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function passwordRequirements()</strong><br>
&nbsp;&nbsp; &nbsp;// Return a string explaining the password requirements. &nbsp;The message must match the policy set in the method passwordValidateRequirements()<br>
&nbsp;</p>

<p>&nbsp;</p>

<p><strong>&nbsp;&nbsp; &nbsp;public function passwordValidateRequirements($pass)</strong><br>
&nbsp;&nbsp; &nbsp;// Enforce password requirements. &nbsp;Any change needs to be also reflected in the method passwordRequirements()</p>

  




  
<!-- -------------------------------------------------------------------------------------------------------------------------------------------- -->
 <div class="library" style="">
  <p class="name">templateEvaluator </p>
  <p class="description">
      <p><strong>Class for Template Evaluation: bare-bones counterpart of the Python library &quot;Jinja&quot;</strong><br>
      &nbsp;&nbsp; &nbsp;<br>
      &nbsp;&nbsp; &nbsp;<br>
      <strong>DEPENDENCIES</strong>: &nbsp;None</p>
      
      <p>&nbsp;</p>
      
      <p><strong>USAGE EXAMPLES:</strong><br>
      &nbsp;</p>
      
      <p><strong>&nbsp;&nbsp; &nbsp;1) simple field substitution:</strong><br>
      &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<code>&quot;Dear {{name}}, see you on {{day}}&quot;</code> &nbsp;. &nbsp;This is Jinja-like (different delimeters may be requested)</p>
      
      <p><br>
      &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
      &nbsp;&nbsp;<strong> &nbsp;2) if/then/else constructs:</strong><br>
      &nbsp;&nbsp; &nbsp;<br>
      &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<code>{ [test] [if-branch string] [else-branch string] }</code><br>
      &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
      &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;where test can be: 1) a field (true if not null) ; or 2) &quot;field=string&quot;<br>
      &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
      &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example 1: &nbsp;<code>&quot;{ [phone] [are you still at {phone}?] [I lack your phone #] }&quot;</code><br>
      &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
      &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example 2: &nbsp;<code>&quot;{ [site=c] [some name] [some other name] }&quot;</code></p>
      
      <p><br>
      &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
      &nbsp;&nbsp; <strong>&nbsp;3) pre-registered, site-provided (NOT user-provided!), functions:</strong><br>
      &nbsp;&nbsp; &nbsp;<br>
      &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$templ_eval-&gt;registerFunction(&quot;foo&quot;);&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;// foo() become Registed Function 1 for this site<br>
      &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
      &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example: <code>&quot;Go to link {RF(1, {productID})}&quot;</code></p>
  </p>  
</div>

<h3>Public Properties</h3>
<pre>
public  $errors = "";       // The last error message, if any  
</pre>

<br>
<h3>Public Methods</h3>
<p><strong>&nbsp;&nbsp; &nbsp;public function setTags($openTag, $closeTag)</strong><br>
&nbsp;&nbsp; &nbsp;// To replace the default tags, if desired<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function &nbsp;evaluateTemplate($template, $replaceArray, $outputErrors = true)</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;Example of template: &nbsp;&quot;Dear {{name}}, see you on {{day}}!&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Example of replaceArray: &nbsp;array(&quot;name&quot; =&gt; &quot;Valerie&quot; , &quot;city&quot; =&gt; &quot;SF&quot;)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Case-sensitive.<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;function exactStringDisplay($str, $caption = &quot;String&quot;)</strong><br>
&nbsp;&nbsp; &nbsp;/*<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;This function is just for debugging.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Assemble and return the HTML to display, inside a boxed div element, the given string EXACTLY as it is,&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;without any of the usual HTML printing substitutions. &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;For example &quot;one&lt;br&gt;&lt;b&gt;two&lt;/b&gt;&quot; will show up exactly as composed.<br>
&nbsp; &nbsp;*/</p>



  

<!-- -------------------------------------------------------------------------------------------------------------------------------------------- -->
 <div class="library" style="">
  <p class="name">uploader </p>
  <p class="description">
Class to facilitate File Uploads<br>
    <br>
   <br> 
    DEPENDENCIES:<br>
    <br>
        - logging
  </p>  
</div>

<h3>Public Properties</h3>
<pre>
public $logger;                // Object of class "logging".  Use to log messages (diagnostics, etc) on the server
</pre>

<br>
<h3>Public Methods</h3>
<p><tt><strong>&nbsp;&nbsp; &nbsp;public function errorInfo()</strong><br>
&nbsp;&nbsp; &nbsp;// Return the last error message generated by any method<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;</tt></p>

<p><tt><strong>&nbsp;&nbsp; &nbsp;public function uploadFiles($upload_fileset_info, $dest_dir, $nameHandler, $postUploadHandler, $verbose = false) </strong>&nbsp;<br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;Attempt to upload ONE OR MULTIPLE files to the specified destination directory.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Whenever each of the uploads is initially successful (got stored in a temporary file on the server), invoke the optional function stored in $nameHandler<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;RETURN VALUE: the number of successful uploads. &nbsp;In case of error, the property &quot;errorMessage&quot; is set to an explanation of the error<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If any upload fails, the uploader skips to the next file upload<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;USAGE:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;For a SINGLE file upload:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;A) the calling form has a form with an entry such as:&nbsp;&nbsp; &nbsp;&lt;INPUT type=&#39;file&#39; name=&#39;myFile&#39;&gt;&nbsp;&nbsp; &nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;B) the form-processing script contains:&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$upload_fileset_info = $_FILES[&quot;myFile&quot;];<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;For a MULTIPLE file uploads:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;A) the calling form has a set of entries such as:&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&lt;INPUT type=&#39;file&#39; name=&#39;myFileList[]&#39;&gt;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;(one per file to upload)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;B) the form-processing script contains:&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$upload_fileset_info = $_FILES[&quot;myFileList&quot;];<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;ARGUMENTS:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$upload_fileset_info&nbsp;&nbsp; &nbsp;(see USAGE, above)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$dest_dir &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;a relative or absolute path in the file system, incl. the final &quot;/&quot; &nbsp;. &nbsp;(For the same folder, use &quot;./&quot;) Any already-existing file with the same name will get over-written<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$nameHandler&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If FALSE, it indicates &quot;just use the same original name for the uploaded file&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If TRUE, it&#39;s expected to be the name of a function to invoke with 4 arguments: f($name, $tmp_name, $type, $size)&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$name&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;the original name of the file being uploaded<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$tmp_name&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;the temporary filename assigned by the server mid-upload (with full path)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$type&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;the uploaded file&#39;s MIME type<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$size&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;size of uploaded file&#39;s size in Bytes<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Tha function needs to return a file name to use for permanent file storage (possibly the same as the original name), or false in case of error (for example, a database error). &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;That function is also a convenient place for the invoking script to do all the necessary database operations.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$postUploadHandler&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;name of a function that gets invoked upon a successful file upload (for example, to take care of additional database update). &nbsp;Use FALSE to indicate no function<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$verbose&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;whether to print out (in addition to logging) any information or error messages<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$upload_fileset_info is an array of 5 elements, called:&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&quot;name&quot;,<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&quot;type&quot;,<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&quot;tmp_name&quot;,<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&quot;error&quot;,<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&quot;size&quot;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Each element is either a value (in case of single uploads) or an array whose dimension equals the numbers of files being uploaded.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;EXAMPLE of $upload_fileset_info in case of a SINGLE UPLOADED FILE:&nbsp;&nbsp; &nbsp;&nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Array<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;(<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[name] =&gt; sample-file.doc<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[type] =&gt; application/msword<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[tmp_name] =&gt; /tmp/path/phpVGCDAJ<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[error] =&gt; 0<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[size] =&gt; 450<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;EXAMPLE of $upload_fileset_info in case of MULTIPLE FILES:<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Array<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;(<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[name] =&gt; Array<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;(<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[0] =&gt; sample-file1.doc<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[1] =&gt; focus.jpg<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[type] =&gt; Array<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;(<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[0] =&gt; application/msword<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[1] =&gt; image/jpeg<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[tmp_name] =&gt; Array<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;(<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[0] =&gt; /tmp/phprS2u1w<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[1] =&gt; /tmp/php3oOgSr<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[error] =&gt; Array<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;(<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[0] =&gt; 0<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[1] =&gt; 0<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[size] =&gt; Array<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;(<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[0] =&gt; 22685<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;[1] =&gt; 30733<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;)<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;)<br>
&nbsp;&nbsp; &nbsp; */<br>
<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
&nbsp;&nbsp; &nbsp;<br>
<strong>&nbsp;&nbsp; &nbsp;public function uploadSingleFile($name, $type, $size, $tmp_name, $error, $dest_dir, $nameHandler, $postUploadHandler, $verbose = false) &nbsp;</strong><br>
&nbsp;&nbsp; &nbsp;/* &nbsp;&nbsp; &nbsp;The first 5 arguments are the standard $_FILES array component. &nbsp;For an explanation of the remaining arguments, see uploadFiles()<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;If a file with the requested name already exists, it gets overwritten.<br>
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Return 1 if upload is successful, or 0 if not (i.e. the number of successful uploads). &nbsp;In case of error, the property &quot;errorMessage&quot; is set to an explanation of the error<br>
&nbsp;&nbsp; &nbsp; */</tt><br>
&nbsp;</p>



   


  
</body>
</html>
